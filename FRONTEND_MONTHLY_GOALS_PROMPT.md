# üéØ Monthly Goals Feature - Frontend Implementation Prompt

## üìã T·ªïng quan t√≠nh nƒÉng

T·∫°o ch·ª©c nƒÉng **Monthly Goals** cho ph√©p user:
- T·∫°o m·ª•c ti√™u l·∫∑p h√†ng th√°ng (v√≠ d·ª•: "T·∫≠p gym m·ªói ng√†y l√∫c 6:00")
- H·ªá th·ªëng t·ª± ƒë·ªông sinh tasks cho c√°c ng√†y t∆∞∆°ng ·ª©ng
- Theo d√µi ti·∫øn ƒë·ªô v√† hi·ªÉn th·ªã b√°o c√°o
- H·ªó tr·ª£ timezone v√† c·∫•u h√¨nh l·∫∑p l·∫°i linh ho·∫°t

## üîó API Endpoints

**Base URL:** `https://to-do-list-vsb8.onrender.com`

### 1. T·∫°o Monthly Goal
```javascript
POST /api/monthly-goals
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "title": "T·∫≠p gym m·ªói ng√†y",
  "description": "T·∫≠p gym ƒë·ªÉ gi·ªØ s·ª©c kh·ªèe",
  "dailyTime": "06:00",
  "timezone": "Asia/Ho_Chi_Minh",
  "repeatConfig": {
    "weekdays": [1, 2, 3, 4, 5], // 0=Ch·ªß nh·∫≠t, 1=Th·ª© 2, ..., 6=Th·ª© 7
    "includeWeekends": false
  }
}
```

### 2. L·∫•y danh s√°ch Monthly Goals
```javascript
GET /api/monthly-goals
Authorization: Bearer YOUR_JWT_TOKEN

// Query parameters:
// - status: active, paused, completed, cancelled
// - month: 1-12
// - year: 2024
```

### 3. Chi ti·∫øt Monthly Goal
```javascript
GET /api/monthly-goals/:id
Authorization: Bearer YOUR_JWT_TOKEN

// Response bao g·ªìm:
// - goal: th√¥ng tin m·ª•c ti√™u
// - tasks: danh s√°ch tasks ƒë√£ t·∫°o
// - progress: th·ªëng k√™ ti·∫øn ƒë·ªô
```

### 4. C·∫≠p nh·∫≠t Monthly Goal
```javascript
PUT /api/monthly-goals/:id
Authorization: Bearer YOUR_JWT_TOKEN
Content-Type: application/json

{
  "title": "Updated title",
  "dailyTime": "07:00",
  "status": "active"
}
```

### 5. X√≥a Monthly Goal
```javascript
DELETE /api/monthly-goals/:id
Authorization: Bearer YOUR_JWT_TOKEN
```

### 6. B√°o c√°o ti·∫øn ƒë·ªô
```javascript
GET /api/monthly-goals/progress/report?month=10&year=2024
Authorization: Bearer YOUR_JWT_TOKEN
```

## üé® UI/UX Requirements

### 1. Trang danh s√°ch Monthly Goals
- **Layout:** Card-based layout
- **Filters:** Status, th√°ng/nƒÉm
- **Search:** T√¨m ki·∫øm theo t√™n m·ª•c ti√™u
- **Actions:** T·∫°o m·ªõi, xem chi ti·∫øt, ch·ªânh s·ª≠a, x√≥a

### 2. Form t·∫°o/ch·ªânh s·ª≠a Monthly Goal
```javascript
// Form fields:
{
  title: "T√™n m·ª•c ti√™u" (required, max 255 chars),
  description: "M√¥ t·∫£" (optional),
  dailyTime: "Th·ªùi gian h√†ng ng√†y" (HH:MM format),
  timezone: "M√∫i gi·ªù" (dropdown),
  repeatConfig: {
    weekdays: "Ng√†y trong tu·∫ßn" (checkbox group),
    includeWeekends: "Bao g·ªìm cu·ªëi tu·∫ßn" (checkbox)
  }
}
```

### 3. Trang chi ti·∫øt Monthly Goal
- **Th√¥ng tin m·ª•c ti√™u:** Title, description, time, timezone
- **C·∫•u h√¨nh l·∫∑p:** Weekdays, include weekends
- **Th·ªëng k√™:** Progress bar, completed/total days, completion rate
- **Danh s√°ch tasks:** Hi·ªÉn th·ªã tasks ƒë√£ t·∫°o v·ªõi status
- **Actions:** Edit, pause/resume, delete

### 4. Dashboard/Progress Report
- **T·ªïng quan:** S·ªë m·ª•c ti√™u active, t·ªïng tasks ho√†n th√†nh
- **Bi·ªÉu ƒë·ªì:** Progress theo th√°ng
- **Top goals:** M·ª•c ti√™u c√≥ t·ª∑ l·ªá ho√†n th√†nh cao nh·∫•t
- **Calendar view:** Hi·ªÉn th·ªã tasks theo l·ªãch

## üõ†Ô∏è Technical Implementation

### 1. State Management
```javascript
// Redux/Zustand store structure:
{
  monthlyGoals: {
    items: [],
    loading: false,
    error: null,
    filters: {
      status: 'active',
      month: null,
      year: null
    }
  },
  currentGoal: {
    goal: null,
    tasks: [],
    progress: null,
    loading: false
  },
  progressReport: {
    data: null,
    loading: false
  }
}
```

### 2. API Service Functions
```javascript
// monthlyGoalsService.js
export const monthlyGoalsAPI = {
  // T·∫°o m·ª•c ti√™u
  createGoal: async (token, goalData) => {
    const response = await fetch(`${API_BASE_URL}/api/monthly-goals`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(goalData)
    });
    return response.json();
  },

  // L·∫•y danh s√°ch m·ª•c ti√™u
  getGoals: async (token, filters = {}) => {
    const queryParams = new URLSearchParams();
    Object.entries(filters).forEach(([key, value]) => {
      if (value) queryParams.append(key, value);
    });
    
    const response = await fetch(`${API_BASE_URL}/api/monthly-goals?${queryParams}`, {
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
      }
    });
    return response.json();
  },

  // L·∫•y chi ti·∫øt m·ª•c ti√™u
  getGoalDetails: async (token, goalId) => {
    const response = await fetch(`${API_BASE_URL}/api/monthly-goals/${goalId}`, {
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
      }
    });
    return response.json();
  },

  // C·∫≠p nh·∫≠t m·ª•c ti√™u
  updateGoal: async (token, goalId, goalData) => {
    const response = await fetch(`${API_BASE_URL}/api/monthly-goals/${goalId}`, {
      method: 'PUT',
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(goalData)
    });
    return response.json();
  },

  // X√≥a m·ª•c ti√™u
  deleteGoal: async (token, goalId) => {
    const response = await fetch(`${API_BASE_URL}/api/monthly-goals/${goalId}`, {
      method: 'DELETE',
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
      }
    });
    return response.json();
  },

  // L·∫•y b√°o c√°o ti·∫øn ƒë·ªô
  getProgressReport: async (token, month, year) => {
    const queryParams = new URLSearchParams();
    if (month) queryParams.append('month', month);
    if (year) queryParams.append('year', year);
    
    const response = await fetch(`${API_BASE_URL}/api/monthly-goals/progress/report?${queryParams}`, {
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
      }
    });
    return response.json();
  }
};
```

### 3. React Components Structure
```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ MonthlyGoals/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MonthlyGoalsList.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MonthlyGoalCard.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MonthlyGoalForm.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MonthlyGoalDetails.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProgressReport.jsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GoalFilters.jsx
‚îÇ   ‚îî‚îÄ‚îÄ common/
‚îÇ       ‚îú‚îÄ‚îÄ TimePicker.jsx
‚îÇ       ‚îú‚îÄ‚îÄ TimezoneSelector.jsx
‚îÇ       ‚îî‚îÄ‚îÄ WeekdaySelector.jsx
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ MonthlyGoalsPage.jsx
‚îÇ   ‚îú‚îÄ‚îÄ MonthlyGoalDetailsPage.jsx
‚îÇ   ‚îî‚îÄ‚îÄ ProgressReportPage.jsx
‚îî‚îÄ‚îÄ services/
    ‚îî‚îÄ‚îÄ monthlyGoalsAPI.js
```

### 4. Key Components Implementation

#### MonthlyGoalForm.jsx
```jsx
import React, { useState } from 'react';
import { TimePicker, TimezoneSelector, WeekdaySelector } from '../common';

const MonthlyGoalForm = ({ onSubmit, initialData, loading }) => {
  const [formData, setFormData] = useState({
    title: initialData?.title || '',
    description: initialData?.description || '',
    dailyTime: initialData?.dailyTime || '06:00',
    timezone: initialData?.timezone || 'Asia/Ho_Chi_Minh',
    repeatConfig: {
      weekdays: initialData?.repeatConfig?.weekdays || [1, 2, 3, 4, 5],
      includeWeekends: initialData?.repeatConfig?.includeWeekends || false
    }
  });

  const handleSubmit = (e) => {
    e.preventDefault();
    onSubmit(formData);
  };

  return (
    <form onSubmit={handleSubmit} className="monthly-goal-form">
      <div className="form-group">
        <label>T√™n m·ª•c ti√™u *</label>
        <input
          type="text"
          value={formData.title}
          onChange={(e) => setFormData({...formData, title: e.target.value})}
          placeholder="V√≠ d·ª•: T·∫≠p gym m·ªói ng√†y"
          required
          maxLength={255}
        />
      </div>

      <div className="form-group">
        <label>M√¥ t·∫£</label>
        <textarea
          value={formData.description}
          onChange={(e) => setFormData({...formData, description: e.target.value})}
          placeholder="M√¥ t·∫£ chi ti·∫øt v·ªÅ m·ª•c ti√™u..."
          rows={3}
        />
      </div>

      <div className="form-group">
        <label>Th·ªùi gian h√†ng ng√†y *</label>
        <TimePicker
          value={formData.dailyTime}
          onChange={(time) => setFormData({...formData, dailyTime: time})}
        />
      </div>

      <div className="form-group">
        <label>M√∫i gi·ªù *</label>
        <TimezoneSelector
          value={formData.timezone}
          onChange={(timezone) => setFormData({...formData, timezone})}
        />
      </div>

      <div className="form-group">
        <label>Ng√†y l·∫∑p l·∫°i</label>
        <WeekdaySelector
          value={formData.repeatConfig.weekdays}
          onChange={(weekdays) => setFormData({
            ...formData, 
            repeatConfig: {...formData.repeatConfig, weekdays}
          })}
        />
        
        <label className="checkbox-label">
          <input
            type="checkbox"
            checked={formData.repeatConfig.includeWeekends}
            onChange={(e) => setFormData({
              ...formData,
              repeatConfig: {...formData.repeatConfig, includeWeekends: e.target.checked}
            })}
          />
          Bao g·ªìm cu·ªëi tu·∫ßn
        </label>
      </div>

      <button type="submit" disabled={loading}>
        {loading ? 'ƒêang x·ª≠ l√Ω...' : 'L∆∞u m·ª•c ti√™u'}
      </button>
    </form>
  );
};

export default MonthlyGoalForm;
```

#### MonthlyGoalCard.jsx
```jsx
import React from 'react';

const MonthlyGoalCard = ({ goal, onView, onEdit, onDelete }) => {
  const getStatusColor = (status) => {
    const colors = {
      active: 'green',
      paused: 'yellow',
      completed: 'blue',
      cancelled: 'red'
    };
    return colors[status] || 'gray';
  };

  const getStatusText = (status) => {
    const texts = {
      active: 'ƒêang ho·∫°t ƒë·ªông',
      paused: 'T·∫°m d·ª´ng',
      completed: 'Ho√†n th√†nh',
      cancelled: 'ƒê√£ h·ªßy'
    };
    return texts[status] || status;
  };

  return (
    <div className="monthly-goal-card">
      <div className="goal-header">
        <h3>{goal.title}</h3>
        <span className={`status-badge ${getStatusColor(goal.status)}`}>
          {getStatusText(goal.status)}
        </span>
      </div>

      {goal.description && (
        <p className="goal-description">{goal.description}</p>
      )}

      <div className="goal-info">
        <div className="info-item">
          <span className="label">Th·ªùi gian:</span>
          <span className="value">{goal.dailyTime}</span>
        </div>
        <div className="info-item">
          <span className="label">M√∫i gi·ªù:</span>
          <span className="value">{goal.timezone}</span>
        </div>
      </div>

      <div className="progress-section">
        <div className="progress-bar">
          <div 
            className="progress-fill" 
            style={{width: `${goal.stats.completionRate}%`}}
          />
        </div>
        <div className="progress-text">
          {goal.stats.completedDays}/{goal.stats.totalDays} ng√†y ({goal.stats.completionRate}%)
        </div>
      </div>

      <div className="goal-actions">
        <button onClick={() => onView(goal._id)} className="btn-primary">
          Xem chi ti·∫øt
        </button>
        <button onClick={() => onEdit(goal._id)} className="btn-secondary">
          Ch·ªânh s·ª≠a
        </button>
        <button onClick={() => onDelete(goal._id)} className="btn-danger">
          X√≥a
        </button>
      </div>
    </div>
  );
};

export default MonthlyGoalCard;
```

## üé® UI/UX Guidelines

### 1. Color Scheme
- **Active goals:** Green (#10B981)
- **Paused goals:** Yellow (#F59E0B)
- **Completed goals:** Blue (#3B82F6)
- **Cancelled goals:** Red (#EF4444)

### 2. Progress Indicators
- **Progress bar:** Animated fill based on completion rate
- **Completion rate:** Large, prominent percentage
- **Streak counter:** Consecutive days completed

### 3. Responsive Design
- **Mobile:** Single column, stacked cards
- **Tablet:** 2-column grid
- **Desktop:** 3-column grid

### 4. Loading States
- **Skeleton loaders** for cards
- **Spinner** for form submissions
- **Progress indicators** for long operations

## üì± Mobile Considerations

### 1. Touch Interactions
- **Swipe gestures** for quick actions
- **Long press** for context menus
- **Pull to refresh** for data updates

### 2. Form UX
- **Time picker:** Native mobile time picker
- **Weekday selector:** Touch-friendly checkboxes
- **Keyboard:** Appropriate input types

### 3. Performance
- **Lazy loading** for large lists
- **Virtual scrolling** for many goals
- **Optimistic updates** for better UX

## üß™ Testing Requirements

### 1. Unit Tests
- Form validation
- API service functions
- Component rendering
- State management

### 2. Integration Tests
- API integration
- User workflows
- Error handling
- Loading states

### 3. E2E Tests
- Complete user journey
- Cross-browser compatibility
- Mobile responsiveness

## üöÄ Deployment Checklist

- [ ] Environment variables configured
- [ ] API endpoints tested
- [ ] Error handling implemented
- [ ] Loading states added
- [ ] Responsive design verified
- [ ] Accessibility compliance
- [ ] Performance optimized
- [ ] Tests passing

## üìö Additional Resources

- **API Documentation:** https://to-do-list-vsb8.onrender.com/api-docs
- **Timezone List:** https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
- **Date/Time Libraries:** moment.js, date-fns, dayjs
- **UI Components:** Material-UI, Ant Design, Chakra UI

---

**Happy coding! üöÄ**
